<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>AppleVibe</title>
	<link rel="stylesheet" href="assets/css/default.css">
	<link rel="stylesheet" href="assets/css/shop.css">
	<link rel="stylesheet" href="assets/css/media.css">
	<link rel="stylesheet" href="assets/css/shopmedia.css">
	<link rel="stylesheet" type="text/css" href="assets/css/slick.css"/>
	<script src="assets/js/preloader.js"></script>
	<script src="assets/js/menu.js" defer></script>
	<script src="assets/js/popup.js" defer></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
	<script type="text/javascript" src="assets/js/slick.min.js"></script>
	<script src="assets/js/slider.js" defer></script>

</head>
<body>
	<div class="preloader">
		<div class="preloader__img"></div>
		<div class="preloader__text">Подождите..</div>
	</div>
	
	<div class="wrapper">
		
		<header class="header">
			<div class="container">
				<div class="header__body">
					<div class="header__burger" data-burger="index">
						<span></span>
					</div>
					<ul class="nav" data-burgermenu="index">
						<li><a href="/">Главная</a></li>
						<li><a href="news.html">Новости</a></li>
						<li><a href="#">Услуги</a></li>
						<li><a href="#">Сервисы</a></li>
						<li class="active"><a href="#">Магазин</a></li>
						<li><a href="#">Творчество</a></li>
					</ul>
				</div>
			</div>
		</header>

		<section class="shopItem">
			<div class="container">
				<div class="shopItem__body">
					<div class="shopItem__maininfo">
						<div class="shopItem__maininfo__container">
							<div class="shopItem__maininfo__slider">
								<div class="shopItem__maininfo__slider__list">
									<div class="shopItem__maininfo__slider__list__item">
										<img src="assets/img/products/1.jpeg" alt="1">
									</div>
									<div class="shopItem__maininfo__slider__list__item">
										<img src="assets/img/products/1-2.jpeg" alt="1">
									</div>
									<div class="shopItem__maininfo__slider__list__item">
										<img src="assets/img/products/1-3.jpeg" alt="1">
									</div>
								</div>
							</div>
						</div>
						
						<div class="shopItem__maininfo__offer">
							<div class="shopItem__maininfo__offer__title">Школьная тетрадь</div>
							<div class="shopItem__maininfo__offer__description">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec neque leo, convallis ac malesuada vitae, sodales quis nisi. Maecenas id ex eget arcu elementum tincidunt. Suspendisse nulla diam, auctor nec justo id, eleifend suscipit ante. Curabitur ultricies volutpat orci, ac scelerisque odio condimentum id. Nulla commodo </div>
							<div class="shopItem__maininfo__offer__costBlock">
								<div class="shopItem__maininfo__offer__costBlock__upper">
									<a href="#" class="shopItem__maininfo__offer__costBlock__subcost" data-popup="popup__subAccess">
										<p>79.99руб</p>
										<span>с подпиской</span>
									</a>
									<div class="shopItem__maininfo__offer__costBlock__discost">
										<p>99.99руб</p>
										<span>89.99руб</span>
									</div>
									<div class="shopItem__maininfo__offer__costBlock__discount">-10%</div>
								</div>
								<a href="#" class="shopItem__maininfo__offer__costBlock__buy" data-popup="popup__buyproduct">Купить</a>
							</div>	
						</div>
					</div>
					<div class="shopItem__moreinfo">
						<div class="shopItem__feature">
							<div class="shopItem__title">Характеристики</div>
							<div class="shopItem__feature__body">
								<div class="shopItem__feature__item">
									<div class="shopItem__feature__item__name">Размер:</div>
									<div class="shopItem__feature__item__value">10х20х3см</div>
								</div>
								<div class="shopItem__feature__item">
									<div class="shopItem__feature__item__name">Размер:</div>
									<div class="shopItem__feature__item__value">10х20х3см</div>
								</div>
								<div class="shopItem__feature__item">
									<div class="shopItem__feature__item__name">Размер:</div>
									<div class="shopItem__feature__item__value">10х20х3см</div>
								</div>
								<div class="shopItem__feature__item">
									<div class="shopItem__feature__item__name">Размер:</div>
									<div class="shopItem__feature__item__value">10х20х3см</div>
								</div>
							</div>
						</div>
						<div class="shopItem__fulldescription">
							<div class="shopItem__title">Описание</div>
							<div class="shopItem__fulldescription__body">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec neque leo, convallis ac malesuada vitae, sodales quis nisi. Maecenas id ex eget arcu elementum tincidunt. Suspendisse nulla diam, auctor nec justo id, eleifend suscipit ante. Curabitur ultricies volutpat orci, ac scelerisque odio condimentum id. Nulla commodo consectetur sollicitudin. Sed dictum justo eget fermentum tristique. Aliquam maximus turpis eu urna venenatis elementum. Proin gravida ultricies suscipit. Etiam fermentum varius augue, in suscipit ipsum dictum quis. Quisque turpis eros, sollicitudin sit amet sollicitudin dictum, porttitor vel ligula. Mauris luctus quam tristique, hendrerit risus eget, bibendum est. Integer nec tempus est, at finibus felis. Donec felis odio, luctus efficitur tortor nec, rutrum venenatis lectus. Nullam in elit eu neque dignissim vehicula. Sed varius.</div>
						</div>
					</div>
				</div>
			</div>
		</section>

		<footer class="footer">
			<div class="container">
				<div class="footer__body">
					<a href="/" class="footer__logo"><img src="assets/img/textLogo.png" alt="logo"></a>
					<div class="footer__socials">
						<a href="#"><img src="assets/img/icons/tg.svg" alt="tg"></a>
						<a href="#"><img src="assets/img/icons/yt.svg" alt="yt"></a>
						<a href="#"><img src="assets/img/icons/vk.svg" alt="vk"></a>
					</div>
				</div>
			</div>
		</footer>

	</div>


	<div class="popup popup__buyproduct">
		<div class="popup__bg"></div>
		<div class="popup__block">
			<div class="popup__close" data-popup="popup__buyproduct">
				<span></span>
				<span></span>
			</div>
			<div class="popup__title">Оформление покупки</div>
			<form class="popup__form" action="" method="post">
				<div class="popup__form__input">
					<span class="popup__form__input__text">Кол-во товара</span>
					<input type="number" placeholder="10" min="1" max="50" value="1">
				</div>
				<div class="popup__form__input">
					<span class="popup__form__input__text">Ф.И.О.</span>
					<input type="text" placeholder="Иванов Иван Иванович" required>
				</div>
				<div class="popup__form__input">
					<span class="popup__form__input__text">Номер телефона</span>
					<input placeholder="+7" data-phone-pattern required>
				</div>
				<div class="popup__form__input">
					<span class="popup__form__input__text">Ваше местоположение?</span>
					<div class="poup__form__input__radio">
						<div class="poup__form__input__radio__item"><input type="radio" id="radio1" name="radio" value="DNR" checked><label for="radio1">ДНР</label></div>
						<div class="poup__form__input__radio__item"><input type="radio" id="radio2" name="radio" value="RF"><label for="radio2">РФ</label></div>
					</div>
				</div>
				<div class="popup__form__input">
					<span class="popup__form__input__text">Почтовый индекс</span>
					<input type="text" placeholder="000000" maxlength="6" minlength="6" data-post required>
					<a href="https://www.pochta.ru/indexes" target="_blank" class="popup__form__input__postLink">узнать свой почтовый индекс</a>
				</div>
				<div class="popup__form__input">
					<span class="popup__form__input__text__note">Доставка товаров действует только на территории РФ</span>
				</div>
				<div class="popup__form__input">
					<input type="submit" value="Оформить покупку">
				</div>
			</form>
		</div>
	</div>

	<div class="popup popup__subAccess">
		<div class="popup__bg"></div>
		<div class="popup__block">
			<div class="popup__close" data-popup="popup__subAccess">
				<span></span>
				<span></span>
			</div>
			<div class="popup__offer">
				<div class="popup__offer__header">Подписка уже оформлена!</div>
				<div class="popup__offer__img"><img src="assets/img/icons/galka.svg" alt="ok"></div>
			</div>
		</div>
	</div>

	<div class="popup popup__sub">
		<div class="popup__bg"></div>
		<div class="popup__block">
			<div class="popup__close" data-popup="popup__sub">
				<span></span>
				<span></span>
			</div>
			<div class="popup__title">Зачем нужна подписка?</div>
			<div class="popup__offer">
				<div class="popup__offer__enter">С оформленной подпиской вы получаете скидки абсолютно на все товары!</div>
				<div class="popup__offer__list">
					<div class="popup__offer__list__item">
						<div class="popup__offer__list__item__img"><img src="assets/img/icons/listitem.svg" alt="list"></div>
						<div class="popup__offer__list__item__text">В магазине до 20%</div>
					</div>
					<div class="popup__offer__list__item">
						<div class="popup__offer__list__item__img"><img src="assets/img/icons/listitem.svg" alt="list"></div>
						<div class="popup__offer__list__item__text">Творческие заказы до 10%</div>
					</div>
					<div class="popup__offer__list__item">
						<div class="popup__offer__list__item__img"><img src="assets/img/icons/listitem.svg" alt="list"></div>
						<div class="popup__offer__list__item__text">Ежемесячные события до 5%</div>
					</div>
				</div>
				<a href="#" class="popup__offer__more">Подробнее о подписке</a>
				<a href="#" class="popup__offer__button">Оформить подписку</a>
			</div>
		</div>
	</div>

	<div class="popup popup__accessBuy">
		<div class="popup__bg"></div>
		<div class="popup__block">
			<div class="popup__close" data-popup="popup__buyproduct">
				<span></span>
				<span></span>
			</div>
			<div class="popup__offer">
				<div class="popup__offer__header">Подождите..</div>
				<div class="popup__offer__img"><img src="assets/img/loading.gif" alt="load"></div>
			</div>
		</div>
	</div>

	<script>
		document.addEventListener("DOMContentLoaded", function() {
			let post = document.querySelector("[data-post]");
			post.addEventListener('keypress', e => {
			  if(!/\d/.test(e.key))
			    e.preventDefault();
			});

		  var eventCalllback = function(e) {
		    var el = e.target,
		      clearVal = el.dataset.phoneClear,
		      pattern = el.dataset.phonePattern,
		      matrix_def = "+7(___) ___-__-__",
		      matrix = pattern ? pattern : matrix_def,
		      i = 0,
		      def = matrix.replace(/\D/g, ""),
		      val = e.target.value.replace(/\D/g, "");
		    if (clearVal !== 'false' && e.type === 'blur') {
		      if (val.length < matrix.match(/([\_\d])/g).length) {
		        e.target.value = '';
		        return;
		      }
		    }
		    if (def.length >= val.length) val = def;
		    e.target.value = matrix.replace(/./g, function(a) {
		      return /[_\d]/.test(a) && i < val.length ? val.charAt(i++) : i >= val.length ? "" : a
		    });
		  }
		  var phone_inputs = document.querySelectorAll('[data-phone-pattern]');
		  for (let elem of phone_inputs) {
		    for (let ev of ['input', 'blur', 'focus']) {
		      elem.addEventListener(ev, eventCalllback);
		    }
		  }

		  const radioButtons = document.querySelectorAll(".poup__form__input__radio__item > input");
		  const postIndexLink = document.querySelector(".popup__form__input__postLink");

		  radioButtons.forEach((r) => {
		  	r.addEventListener("change", () => {
		  		if(r.value == "RF")
		  		{
		  			postIndexLink.setAttribute("href", "https://www.pochta.ru/indexes");
		  		} else {
		  			postIndexLink.setAttribute("href", "https://postdonbass.com/delivery");
		  		}
		  	});
		  });


		});
	</script>

</body>
</html>